# ü§ñ Agent SPC - AI Agent for Code Analysis

## üìö –û–ø–∏—Å–∞–Ω–∏–µ

**Agent SPC** (DSC 18) - –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–≥–µ–Ω—Ç –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è–º–∏ BitBucket. 
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç GigaChat LLM –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–æ–º —è–∑—ã–∫–µ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç 
–Ω–∞–±–æ—Ä –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞, –æ—Ü–µ–Ω–∫–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

| –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç | –û–ø–∏—Å–∞–Ω–∏–µ | –û—Ü–µ–Ω–∫–∞ |
|------------|----------|--------|
| üîç **search_content** | –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –ø–æ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π | - |
| üìñ **read_file** | –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è | - |
| üìÅ **show_files** | –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è | - |
| üìù **gen_readme** | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è README.md | - |
| üìä **awerage_repo** | –û—Ü–µ–Ω–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è | 0-26 –±–∞–ª–ª–æ–≤ |
| üî¨ **rate_repository** | –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞ | Python/Jupyter/SQL |

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
DSC_18_Agent_SPC/
‚îú‚îÄ‚îÄ agent/                          # –Ø–¥—Ä–æ –∞–≥–µ–Ω—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ memory/                     # State Management
‚îÇ   ‚îú‚îÄ‚îÄ parsing/                    # –ü–∞—Ä—Å–∏–Ω–≥ LLM –æ—Ç–≤–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ prompts/                    # –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ state_graph/                # StateGraph (LangGraph)
‚îÇ   ‚îî‚îÄ‚îÄ tools/                      # LLM Integration
‚îú‚îÄ‚îÄ tools/                          # –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ evalution_code/             # –û—Ü–µ–Ω–∫–∞ –∫–æ–¥–∞
‚îÇ   ‚îî‚îÄ‚îÄ evalution_repo/             # –û—Ü–µ–Ω–∫–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
‚îú‚îÄ‚îÄ schemas/                        # Pydantic –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ main.py                         # Entry Point
‚îú‚îÄ‚îÄ run_mlflow_server.py            # Flask API
‚îî‚îÄ‚îÄ requirements.txt                # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
```

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
cp .env.example .env
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env, –¥–æ–±–∞–≤–∏–≤ —Å–≤–æ–∏ credentials
```

### 3. –ó–∞–ø—É—Å–∫ –∞–≥–µ–Ω—Ç–∞
```bash
# CLI —Ä–µ–∂–∏–º
python main.py "–°–¥–µ–ª–∞–π –æ—Ü–µ–Ω–∫—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è my_repo"

# –ò–ª–∏ –∫–∞–∫ API —Å–µ—Ä–≤–µ—Ä
python run_mlflow_server.py
```

## üì° API Endpoints

| –ú–µ—Ç–æ–¥ | Endpoint | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|----------|----------|
| GET | `/show_tools` | –°–ø–∏—Å–æ–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ |
| POST | `/search_content` | –ü–æ–∏—Å–∫ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ |
| POST | `/read_file` | –ß—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–∞ |
| POST | `/show_files` | –°–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ |
| POST | `/gen_readme` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è README |
| POST | `/awerage_repo` | –û—Ü–µ–Ω–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è |
| POST | `/rate_repository` | –û—Ü–µ–Ω–∫–∞ –∫–æ–¥–∞ |
| GET | `/info_tools` | –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è |

## üîß –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **LLM**: GigaChat-2-Max
- **Embeddings**: BGEM3FlagModel (Dense + Sparse + ColBERT)
- **State Management**: LangGraph StateGraph
- **Web**: Flask REST API
- **Linting**: pylint, nbqa, sqlfluff
- **Tracking**: MLflow

## üìä –°–∏—Å—Ç–µ–º–∞ –æ—Ü–µ–Ω–∫–∏

### –û—Ü–µ–Ω–∫–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è (0-26 –±–∞–ª–ª–æ–≤)
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∞** (0-9): .gitignore, –ø–∞–ø–∫–∏, —Ñ–∞–π–ª—ã, requirements
- **README** (0-17): —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ, —Ä–∞–∑–¥–µ–ª—ã, –∫–æ–Ω—Ç–∞–∫—Ç—ã, –æ–ø–∏—Å–∞–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤

### –û—Ü–µ–Ω–∫–∞ –∫–æ–¥–∞
- **Python (.py)**: pylint (0-10 –±–∞–ª–ª–æ–≤)
- **Jupyter (.ipynb)**: nbqa + pylint
- **SQL (.sql)**: sqlfluff (PASS/ERRORS)

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.10+
- –î–æ—Å—Ç—É–ø –∫ BitBucket API
- GigaChat API (—á–µ—Ä–µ–∑ proxy)
- BGEM3FlagModel (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üë§ –ö–æ–Ω—Ç–∞–∫—Ç—ã

<span style="color:red">**–§–ò–û —Ä—É–∫–æ–≤–æ–¥–∏—Ç–µ–ª—è**: –ó–ê–ü–û–õ–ù–ò–¢–¨</span>  
<span style="color:red">**Email**: –ó–ê–ü–û–õ–ù–ò–¢–¨</span>

---

**Agent SPC - –í–∞—à –ø–æ–º–æ—â–Ω–∏–∫ –≤ —Ä–∞–±–æ—Ç–µ —Å –∫–æ–¥–æ–º! üöÄ**
